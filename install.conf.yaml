- defaults:
    link:
        relink: true
        create: true

- create:
    - ~/.config
    - ~/.vim/undo-history

- clean: ['~', '~/.zsh.d']
- clean:
    ~/.config:
      recursive: true
    ~/.vim:
      recursive: true
      force: true

- link:
    ~/.asdfrc: asdfrc

- link:
    ~/.dotfiles: ""
    ~/.asciidoc/asciidoc.conf:
      path: asciidoc/asciidoc.conf
      create: true
    ~/.config/git/includes/alias:
      path: git/includes/alias
    ~/.config/git/:
      glob: true
      path: git/*
      exclude: [ git/includes ]
    ~/.editrc: editline/editrc
    ~/.emacs.d: doom-emacs
    ~/.doom.d/:
      create: true
      glob: true
      path: emacs/*.el
    ~/.doom.d/snippets/fundamental-mode/:
      create: true
      glob: true
      path: emacs/snippets/fundamental-mode/*
    ~/.doom.d/snippets/org-mode/options:
      create: true
      path: emacs/snippets/org-mode/options
    ~/.ideavimrc: idea/ideavimrc
    ~/.inputrc: readline/inputrc
    ~/.p10k.zsh: zsh/p10k.zsh
    ~/.tmux.conf: tmux/tmux.conf
    ~/.vimrc: vim/vimrc
    ~/.zshrc: zsh/zshrc
    ~/.zsh.d/:
      glob: true
      path: zsh/zsh.d/*

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  -
    description: install homebrew
    command: |
      if [ "$(uname -s)" = "Darwin" || "$(uname -s)" = "Linux" ]; then
        if ! command -v brew &> /dev/null; then
          /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
        fi
      fi
    stdout: true
    stdin: true

- brew:
    - zsh
    - zsh-lovers
    - zsh-completions
- brew:
  - bash
- brew:
    - fzf
    - zoxide
- brew:
    - vim
    - neovim
- brew:
    - tree
- brew:
    - ripgrep
    - ag
- brew:
    - ispell
    - aspell
    - hunspell
- brew:
    - graphviz
- brew:
    - gcc
- brew:
    - exa
    - fd
    - bat
    - git-delta
    - cloc
    - thefuck
- brew:
    - fontconfig
- brew:
    - coreutils
- brew:
    - ssh-copy-id
- brew:
    - git
- brew:
    - mas
- brew:
    - topgrade
- brew:
    - jq
- brew:
    - tldr
    - htop
- brew:
    - openssl
- brew:
    - gh

- cask:
    - mailmate
- cask:
    - marta
- cask:
    - raycast
    - launchbar
- cask:
    - iterm2
- cask:
    - marvin
- cask:
    - spotify
- cask:
    - vivaldi
- cask:
  - firefox
- cask:
    - jetbrains-toolbox
- cask:
    - devutils
- cask:
    - 1password
- cask:
    - bartender
- cask:
    - karabiner-elements
- cask:
    - istat-menus
- cask:
    - brave-browser
- cask:
    - contexts
- cask:
    - daisydisk
- cask:
    - signal
- cask:
    - visual-studio-code
- cask:
    - swish

- tap:
    - homebrew/cask-fonts

- cask:
    - font-victor-mono
    - font-victor-mono-nerd-font
    - font-meslo-lg-nerd-font

- tap:
    - railwaycat/emacsmacport

- brew:
  - gnutls
  - jansson
  - libxml2
  - texinfo
  - imagemagick

- cask:
    - emacs-mac

- brew:
    - asdf

- asdf:
    - plugin: java
    - plugin: gradle
    - plugin: maven
    - plugin: python
    - plugin: lua
    - plugin: rust


- shell:
  -
    command: ~/.emacs.d/bin/doom env
    description: Generating doom envvar
    stdout: true
    stderr: true
  -
    command: ~/.emacs.d/bin/doom sync
    description: Syncing doom
    stdout: true
    stderr: true
  -
    command: mas install 937984704
    description: Install Amphetamine
    stdout: true
    stderr: true
  -
    command: mas install 441258766
    description: Install magnet
    stdout: true
    stderr: true
  -
    command: mas upgrade
    description: upgrade apps
    stdout: true
    stderr: true
